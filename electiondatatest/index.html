<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<title>UK Election Maps</title>
	<link type="text/css" rel="stylesheet" href="/electiondatatest/stylesheets/main.css"/>
	<link type="text/css" rel="stylesheet" href="/electiondatatest/stylesheets/theme.default.css"/>
	<link rel="stylesheet" href="/scripts/jqueryui/jquery-ui.structure.css"/>
	<link rel="shortcut icon" href="/img/logo.png">
</head>

<body>
	<script type="text/javascript" src="/electiondatatest/scripts/d3.min.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/topojson.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/dictionary.js"></script>
	<script type="text/javascript" src="/scripts/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="/scripts/jqueryui/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/jquery.tablesorter.min.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/jquery.tablesorter.widgets.min.js"></script>
	<!-- SCRIPTS THAT RUN PAGE BELOW HERE -->
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/map.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/seatinfodisplay.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/votetable.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/filters.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/choropleths.js"></script>
	<script type="text/javascript" src="/electiondatatest/scripts/pagescripts/main.js"></script>


    <div id="wrapper" class="projection">


				<div id="map">
						<script>
							var width = 700, // width and height of map
								height = 850,
								active = d3.select(null);

							var projection = d3.geo.albers() // variables to change default map position
								.center([-2, 52.4]) //centers vertically and horizontally
								.rotate([0, 0])
								.parallels([51, 56])
								.scale(7000)
								.translate([width / 2, height / 2]);

							var zoom = d3.behavior.zoom()
								.translate([0, 0])
								.scale(1)
								.scaleExtent([1, 10]) // change depth of potential zoom
								.on("zoom", zoomed); // starts zoom function

							var path = d3.geo.path()
								.projection(projection);

							var svg = d3.select("#map").append("svg")
								.attr("width", width)
								.attr("height", height)
								.on("click", stopped, true);

							svg.append("rect")
								.attr("class", "background")
								.attr("width", width)
								.attr("height", height)
								.on("click", reset);

							var g = svg.append("g");

							var previousnode, current;

							svg
								.call(zoom)
								.call(zoom.event);

					</script>
				</div>

				<div id="resetbutton">
						<button id="resetmap" onclick="reset()">Reset</button>
				</div>
				<div id="keyonmap">

				</div>

				<div id="seatlist" class="dash-box">
				</div>

				<div id="methodology" class="dash-box">
				</div>

				<div id="userinput" class="dash-box">
				</div>


				<div id="seat-information" class="dash-box">
						<h2 id="information-seatname"><span id="information-seatname-span"></span><div class="closebox" onclick="$('#seat-information').hide()">X</div></h2>


						<div>
								<div class="seat-summary">
										<div id="information-region"></div>
										<div id="information-members"></div>

										<div id="information-party">
												<div class="party-name"></div>
												<div class="party-flair"></div>
										</div>
										<div id="information-gain">
												<div class="party-name"></div>
												<div class="party-flair"></div>
										</div>

										<div id="information-electorate"></div>
										<div id="information-turnout"></div>

								</div>
								<div id="information-social"></div>
								<div id="charts">
										<div id="information-pie"></div>
										<div id="information-chart"></div>
										<div id="information-byelection"></div>
								</div>

								<div id="social">
								</div>

						</div>

				</div>

				<div id="totals" class="dash-box">

            <h2>Totals</h2>

            <div id="totalstablediv">

                <label for="selectareatotals"> Select Region</label>
                <select id="selectareatotals" onchange="selectAreaInfo(value)">
                    <option value="country"></option>
                    <option value="england">England</option>
                    <option value="eastofengland">East of England</option>
                    <option value="eastmidlands"> East Midlands</option>
                    <option value="london">London</option>
                    <option value="northeastengland">North East England</option>
                    <option value="northwestengland">North West England</option>
                    <option value="southeastengland">South East England</option>
                    <option value="southwestengland">South West England</option>
                    <option value="westmidlands">West Midlands</option>
                    <option value="yorkshireandthehumber">Yorkshire & Humber</option>
                </select>

								<div id="totalturnout">Turnout</div>


                <table id="totalstable" class="tablesorter">
                    <thead>
                    <tr>
                        <th>Party</th>
                        <th class="tablesorter-header">Seats</th>
                        <th class="tablesorter-header">Change</th>
                        <th class="tablesorter-header">Votes</th>
												<th class="tablesorter-header">Vote %</th>
                        <th class="tablesorter-header">% +/-</th>
                    </tr>

                    </thead>

                    <tbody id="totalstableinfo"></tbody>
                    <tfoot id="totalstablefoot"></tfoot>

                </table>
            </div>
        </div>

				<div id="searchforseat" class="dash-box">
                    <h2>Seat Search</h2>
                    <div>
                        <input type="text" id="searchseats" class="searchinput"/>
                    </div>
				</div>



			<div id="filters" class="dash-box">

					<h2>Filters</h2>

                    <div>
                        <label for="dropdownparty">by party</label>
                        <select id="dropdownparty" onchange="filterStates[0].party = value, filterMap()">
                            <option value="null"></option>
                            <option value="labour">Labour</option>
                            <option value="conservative">Conservative</option>
                            <option value="libdems">Liberal Democrats</option>
                            <option value="ukip">UKIP</option>
                            <option value="green">Green</option>
                        </select>

                        <label id="dropdowngainslabel" for="dropdowngains">by gains/no change</label>
                        <select id="dropdowngains" onchange="filterStates[1].gain = value, filterMap()">
                            <option value="null"></option>
                            <option value="gains">Gains</option>
                            <option value="nochange">No Change</option>
                        </select>

                        <label for="dropdownregion">by region</label>
                        <select id="dropdownregion" onchange="filterStates[2].region = value, filterMap(), selectAreaInfo(value)">
                            <option value="null"></option>
                            <option value="eastofengland">East of England</option>
                            <option value="eastmidlands"> East Midlands </option>
                            <option value="london">London</option>
                            <option value="northeastengland">North East England</option>
                            <option value="northwestengland">North West England</option>
                            <option value="northernireland">Northern Ireland</option>
                            <option value="scotland">Scotland</option>
                            <option value="southeastengland">South East England</option>
                            <option value="southwestengland">South West England</option>
                            <option value="wales">Wales</option>
                            <option value="westmidlands">West Midlands</option>
                            <option value="yorkshireandthehumber">Yorkshire & Humber</option>
                        </select>

                        <label>by party members</label>
													<form id="majority">
                            <input type ="text" name="majoritylow" value=0 onchange="filterStates[3].majoritylow = parseFloat(value), filterMap()"/>
                            to
                            <input type="text" name="majorityhigh" value=1000 onchange="filterStates[4].majorityhigh = parseFloat(value), filterMap()"/>
													</form>

                        <div class="filter-buttons">
                            <button id="filtertolist" onclick="generateSeatList()">Generate seat list</button>
                            <button id="filterbutton" onclick="resetFilter()">Reset</button>
                        </div>

                        </div>
				</div>


				<div class="filteredlisttablecontainer dash-box">
                    <h2>Seats</h2>
                    <div>
                        <div id="totalfilteredseats"></div>
                        <div id="filteredlisttable"></div>
                    </div>
                </div>


				<div id="choropleths" class="dash-box">
					<h2>Choropleths</h2>

					<div id="votesharebyparty">
						<label for="votesharebypartyselect">2015 Vote share: </label>
						<select id="votesharebypartyselect" onchange ="partyVoteShare = value; voteShare()">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="green">Green</option>

							</select>
					</div>

					<div id="votesharechangebyparty">

						<label for="votesharechangebypartyselect">2015 Vote share +/-: </label>
						<select id="votesharechangebypartyselect" onchange ="partyVoteShareChange = value; voteShareChange()">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="green">Green</option>
						</select>
					</div>

					<div id="partymembers">

						<p><a href="#" onclick="partyMembers()"> Party Members </a></p>

					</div>

					<div id="socialgrades">
						<label for="socialgradesselect">Social Grade: </label>
						<select id="socialgradesselect" onchange ="socialGrade = value; socialGrades()">
								<option value="null"></option>
								<option value="ab">AB</option>
								<option value="c1">C1</option>
								<option value="c2">C2</option>
								<option value="de">DE</option>
						</select>
					</div>




				</div>



<!-- -->
</div>


</body>
